#include <iostream>
#include <TCanvas.h>
#include <TH1.h>
#include <TH2.h>
#include <TH3.h>
#include <TFile.h>
#include <TTree.h>



void Vergleich(){
  //File Oeffnen
  auto f1 = TFile::Open("./Antok/build/bin/MC_KPiPi.root", "READ");
  // Histogramme benennen und zuweisen
  TH3D* Dalitz = nullptr;
  f1->GetObject("MainTrain/Dalitz KPiPos versus PionNegPionPos/Dalitz KPiPos versus PionNegPionPos_111111111111111_hist", Dalitz);
  cout << "!!! " << Dalitz << endl;

  //File Oeffnen
  auto f2 = TFile::Open("./Antok/build/bin/MC_KPiPi_stefan_Test.root", "READ");
  // Histogramme benennen und zuweisen
  TH3D* Dalitz_stefan = nullptr;
  f2->GetObject("MainTrain/Dalitz KPiPos versus PionNegPionPos/Dalitz KPiPos versus PionNegPionPos_111111111111111_hist", Dalitz_stefan);
  
  // Projections
  TH2D* projh3XY = static_cast<TH2D*>(Dalitz->Project3D("xy"));
  TH2D* projh3XY_stefan = static_cast<TH2D*>(Dalitz_stefan->Project3D("xy"));
  
  // Cloning
  TH2D* Ratio = (TH2D*)projh3XY_stefan->Clone("Ratio");
  // Dividing
  Ratio->Divide(projh3XY);
  
  
  
  //Canvas erzeugen und vierteilen
  auto c=new TCanvas("Canvas","Canvas",800,800);
  c->Divide(2,2);
  
  //Canvasfenster fuellen
  c->cd(1); Dalitz->Draw();
  c->cd(2); Dalitz_stefan->Draw("COLZ");
  c->cd(3); projh3XY_stefan->Draw("COLZ");
  c->cd(4); Ratio->Draw("COLZ");
  
  Dalitz_stefan->SetShowProjection("xy col");
}
